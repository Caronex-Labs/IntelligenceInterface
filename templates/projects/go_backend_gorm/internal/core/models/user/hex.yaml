# Configuration used to generate this model file
# Generated by: gohex engine
# Template: internal/core/models/{{DOMAIN}}/model.go.tmpl
# Domain: user
# Entity: User

layer: "model"
domain: "user"
entity: "User"

# Model configuration that produced this file
model:
  name: "User"
  description: "User represents a user in the database"
  package: "user"
  table_name: "users"
  
  # Fields that were configured for this model
  fields:
    - name: "ID"
      type: "uuid.UUID"
      tags: 'gorm:"type:uuid;primaryKey" json:"id"'
      constraints: ["primary_key"]
      standard: true  # Standard field, always included
      
    - name: "CreatedAt"
      type: "time.Time"
      tags: 'gorm:"type:timestamp;default:now()" json:"created_at"'
      auto_managed: true
      standard: true  # Standard field, always included
      
    - name: "UpdatedAt"
      type: "time.Time"
      tags: 'gorm:"type:timestamp;default:now()" json:"updated_at"'
      auto_managed: true
      standard: true  # Standard field, always included
      
    # Custom fields would be added here in configuration
    # Example of what could be configured:
    # - name: "Email"
    #   type: "string"
    #   tags: 'gorm:"uniqueIndex;not null" json:"email"'
    #   constraints: ["not null", "unique"]
    #   description: "User email address"
    # - name: "FirstName"
    #   type: "string"
    #   tags: 'gorm:"not null" json:"first_name"'
    #   constraints: ["not null"]
    #   description: "User first name"

  # Model methods generated
  methods:
    - name: "TableName"
      description: "Specifies the table name for User"
      returns: "string"
      implementation: 'return "users"'
      
    - name: "BeforeCreate"
      description: "GORM hook - sets UUID before creating record"
      returns: "error"
      hook_type: "before_create"
      auto_uuid: true

# Database configuration
database:
  table_name: "users"
  primary_key: "ID"
  auto_increment: false  # Using UUID
  soft_delete: false     # Could be enabled with DeletedAt field
  timestamps: true       # CreatedAt, UpdatedAt managed automatically

# GORM specific settings
gorm:
  hooks:
    before_create: true    # BeforeCreate method generated
    before_update: false   # Could be enabled
    after_find: false      # Could be enabled
  
  uuid_primary_key: true   # Use UUID instead of auto-increment
  auto_timestamps: true    # Automatically manage CreatedAt/UpdatedAt

# Template variables used during generation
template_vars:
  domain: "user"
  domain_snake: "user"
  entity: "User"
  entity_snake: "user"
  entities: "Users"
  entities_snake: "users"
  module: "go_backend_gorm"

# Generation metadata
generation:
  template_file: "internal/core/models/{{DOMAIN}}/model.go.tmpl"
  output_file: "internal/core/models/user/user.go"
  generated_at: "2024-12-20T10:30:00Z"
  generator_version: "1.0.0"
  preserve_custom_code: true

# Custom code regions (for code preservation)
custom_regions:
  - name: "custom_methods"
    marker: "// Add custom methods here"
    description: "Add custom model methods here"
    location: "after_before_create"  # Where custom methods would be added
